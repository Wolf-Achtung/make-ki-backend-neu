:root{
  --neon-intensity: 1.0;
  --bg: #0b0f12;
  --text: #e9eef4;
  --muted: #9fb0c0;
  --glass: rgba(16,20,25,.72);
  --glass-2: rgba(16,20,25,.88);
}
*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0; background:var(--bg); color:var(--text);
  font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
#bg-video{
  position:fixed; inset:0; width:100%; height:100%; object-fit:cover; z-index:-2; filter:contrast(100%) brightness(95%) saturate(110%);
}
.topnav{
  position:fixed; top:.75rem; left:.75rem; display:flex; gap:.5rem; z-index:10;
  backdrop-filter:saturate(1.2) blur(6px);
}
.pill{
  appearance:none; border:1px solid rgba(255,255,255,.18);
  background:rgba(20,24,28,.55); color:var(--text); border-radius:999px; padding:.4rem .8rem;
  font-weight:600; font-size:.85rem; cursor:pointer; box-shadow:0 0 0 1px rgba(255,255,255,.06) inset;
}
.pill[aria-pressed="true"]{ background:rgba(70,220,170,.25); }
.pill:hover{ background:rgba(255,255,255,.1); }

/* Bubble layer */
#bubble-layer{ position:fixed; inset:0; overflow:hidden; }
.bubble{
  position:absolute; display:flex; align-items:center; justify-content:center; text-align:center;
  width:220px; height:220px; border-radius:50%;
  color:#0a0d10; font-weight:700;
  background: radial-gradient( circle at 40% 35%, #fff, rgba(255,255,255,.92) 55%, rgba(255,255,255,.88) 70% );
  box-shadow:
    0 0 0 1px rgba(255,255,255,.25) inset,
    0 12px 40px rgba(0,0,0,.35),
    0 0 40px var(--neon);
  transform: translate(-50%,-50%) scale(.9);
  opacity:0;
}
.bubble__inner{
  width:78%; transform:translateY(.02rem);
}
.bubble__title{ font-size:1.05rem; letter-spacing:.2px; margin:.1rem 0 .25rem; text-shadow:0 1px 0 rgba(255,255,255,.35); }
.bubble__desc{ font-size:.86rem; line-height:1.25; font-weight:600; color:#1a1f24; }

/* states */
.bubble--in{ animation: bubble-in .9s ease-out forwards; }
.bubble--pulse{ animation: neon-pulse 6s ease-in-out infinite; }
.bubble--out{ animation: bubble-out .8s ease-in forwards; }

@keyframes bubble-in{
  from{ opacity:0; transform: translate(-50%,-50%) scale(.6); filter:blur(2px); }
  to  { opacity:1; transform: translate(-50%,-50%) scale(1); filter:blur(0); }
}
@keyframes bubble-out{
  0%{ opacity:1; transform: translate(-50%,-50%) scale(1); }
  100%{ opacity:0; transform: translate(-50%,-50%) scale(.6); }
}
@keyframes neon-pulse{
  0%,100%{ box-shadow: 0 0 0 1px rgba(255,255,255,.25) inset, 0 12px 40px rgba(0,0,0,.35), 0 0 12px var(--neon); }
  50%{ box-shadow: 0 0 0 1px rgba(255,255,255,.25) inset, 0 10px 30px rgba(0,0,0,.3), 0 0 42px var(--neon); }
}

/* Popups */
.popup-root{ position:fixed; inset:0; z-index:20; pointer-events:none; }
.popup-root .popup{ pointer-events:auto; position:absolute; left:50%; top:52%; transform:translate(-50%,-50%); width:min(900px,92vw); max-height:min(72vh,900px); display:flex; flex-direction:column; background:var(--glass-2); border:1px solid rgba(255,255,255,.12); border-radius:16px; box-shadow:0 24px 80px rgba(0,0,0,.5); }
.popup__head{ position:sticky; top:0; display:flex; justify-content:space-between; align-items:center; padding:14px 16px; background:var(--glass); border-bottom:1px solid rgba(255,255,255,.1); border-radius:16px 16px 0 0; z-index:1; }
.popup__head h3{ margin:0; font-size:1.1rem; letter-spacing:.2px; }
.popup__body{ padding:16px; overflow:auto; }
.popup__foot{ position:sticky; bottom:0; padding:12px 16px; background:var(--glass); border-top:1px solid rgba(255,255,255,.1); border-radius:0 0 16px 16px; }

.input{ width:100%; padding:.7rem .8rem; border-radius:10px; background:#11161b; color:var(--text); border:1px solid rgba(255,255,255,.12); }
.btn{ appearance:none; background:#38d0a7; border:0; color:#072015; font-weight:800; padding:.55rem .9rem; border-radius:10px; cursor:pointer; }
.btn--ghost{ background:transparent; color:var(--text); border:1px solid rgba(255,255,255,.18); }
.row{ display:flex; align-items:center; }
.gap-s{ gap:.5rem; }
.prose{ white-space:pre-wrap; word-wrap:break-word; line-height:1.4; }
.card{ background:#0f151a; border:1px solid rgba(255,255,255,.1); border-radius:12px; padding:12px; margin:10px 0; }
.card a{ color:inherit; text-decoration:none; display:block; }
.meta{ color:var(--muted); font-size:.8rem; margin-top:.2rem; }

@media (max-width: 600px){
  .bubble{ width:180px; height:180px; }
  .bubble__title{ font-size:.98rem; }
  .bubble__desc{ font-size:.8rem; }
}


/* Chips & Badges */
.chips{ display:flex; gap:8px; flex-wrap:wrap; margin:0 0 12px 0; }
.chip{ padding:.35rem .6rem; border-radius:999px; border:1px solid rgba(255,255,255,.16); background:rgba(255,255,255,.04); cursor:pointer; user-select:none; }
.chip[aria-pressed="true"]{ background:rgba(100,255,218,.18); border-color:rgba(100,255,218,.45); }

.badge-dot{ position:relative; }
.badge-dot::after{
  content:''; position:absolute; top:-4px; right:-4px; width:8px; height:8px; border-radius:50%;
  background:#3ad29f; box-shadow:0 0 8px rgba(58,210,159,.8);
}
